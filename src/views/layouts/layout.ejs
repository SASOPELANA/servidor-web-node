<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta
            name="description"
            content="Explorador de la API de Rick y Morty"
        />
        <title>Rick & Morty Tracker</title>

        <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
        <link rel="stylesheet" href="/styles/styles.css" />
    </head>
    <body class="bg-slate-950 text-slate-50 font-sans min-h-screen flex flex-col">
        <%- include('../partials/header') %>

        <main class="grow container mx-auto px-6 py-24">
            <%- body %>
        </main>

        <%- include('../partials/footer') %>

        <!-- Success Toast Notification -->
        <div id="successToast" class="fixed bottom-10 right-10 z-50 transform translate-y-20 opacity-0 transition-all duration-500 pointer-events-none">
            <div class="bg-slate-900 border border-green-500/50 rounded-2xl p-5 shadow-[0_0_30px_rgba(34,197,94,0.3)] flex items-center space-x-4 backdrop-blur-md">
                <div class="w-10 h-10 bg-green-500/10 rounded-full flex items-center justify-center text-green-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                </div>
                <div>
                    <p class="text-white font-bold">Â¡Mensaje enviado!</p>
                    <p class="text-slate-400 text-sm">Te responderemos muy pronto.</p>
                </div>
            </div>
        </div>

        <script>
            window.addEventListener('load', () => {
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.has('success')) {
                    const toast = document.getElementById('successToast');
                    toast.classList.remove('translate-y-20', 'opacity-0');
                    toast.classList.add('translate-y-0', 'opacity-100');
                    
                    setTimeout(() => {
                        toast.classList.add('translate-y-20', 'opacity-0');
                        toast.classList.remove('translate-y-0', 'opacity-100');
                        
                        const url = new URL(window.location);
                        url.searchParams.delete('success');
                        window.history.replaceState({}, '', url);
                    }, 5000);
                }
            });
        </script>
    </body>
</html>
